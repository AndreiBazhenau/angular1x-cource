<!DOCTYPE html>
<html ng-app="mailApp">
<head>
    <meta charset="UTF-8">
    <title>Почта</title>
<body>
<mail-box>
</mail-box>

<script src="https://opensource.keycdn.com/angularjs/1.5.8/angular.min.js"></script>
    <script>
        angular.module('mailApp', []);

        angular.module('mailApp')
            .component('mailBox', {
                template: `
                      <mail-table items="$ctrl.mails" on-show-detailed="$ctrl.onShowDetailed(selectedItem)" ng-if="!$ctrl.showDetailed"></mail-table>
                      <mail-detailed item="$ctrl.selectedMail" ng-if="$ctrl.showDetailed" on-go-back="$ctrl.onGoBack()" ></mail-detailed>
                    `,
                controller: function() {
                    this.showDetailed = false;

                    this.onShowDetailed = function(selectedItem) {
                        this.selectedMail = selectedItem;
                        this.showDetailed = true;
                    };

                    this.onGoBack = function() {
                        this.showDetailed = false;
                    };

                    this.mails = [
                        {
                            from: "test1@mail.ru",
                            subject: "subject1",
                            body: `body test message mail1 body test message mail1 body test message mail1 body test message mail1
                                body test message mail1 body test message mail1 body test message mail1 body test message mail1 body test message mail1
                                body test message mail1 body test message mail1 body test message mail1 body test message mail1 body test message mail1
                                body test message mail1 body test message mail1 body test message mail1 body test message mail1 body test message mail1`
                        },
                        {
                            from: "test2@mail.ru",
                            subject: "subject2",
                            body: `body test message mail2 body test message mail2 body test message mail2 body test message mail2
                                body test message mail2 body test message mail2 body test message mail2 body test message mail2 body test message mail2
                                body test message mail2 body test message mail2 body test message mail2 body test message mail2 body test message mail2
                                body test message mail2 body test message mail2 body test message mail2 body test message mail2 body test message mail2`
                        },
                        {
                            from: "test3@mail.ru",
                            subject: "subject3",
                            body: `body test message mail3 body test message mail3 body test message mail3 body test message mail3 body
                                body test message mail3 body test message mail3 body test message mail3 body test message mail3 body test message mail3
                                body test message mail3 body test message mail3 body test message mail3 body test message mail3 body test message mail3
                                body test message mail3 body test message mail3 body test message mail3 body test message mail3 body test message mail3`
                        }
                    ];
                }
            });
    </script>

    <script src="components/mail-table.component.js"></script>
    <script src="components/mail-table-item.component.js"></script>
    <script src="components/mail-detailed.component.js"></script>
</body>
</html>